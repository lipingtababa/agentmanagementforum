---
import ThemeToggle from './ThemeToggle.astro';

const navLinks = [
  { href: '/articles', label: '文章' },
  { href: '/authors', label: '作者' },
  { href: '/tags', label: '话题' },
  { href: 'https://magong.se/', label: 'MaGong', external: true },
];

const currentPath = Astro.url.pathname;
---

<header class="border-b border-[var(--color-surface-border)] bg-[var(--color-surface)]">
  <nav class="mx-auto flex max-w-4xl items-center justify-between px-4 py-4">
    <a href="/" class="text-xl font-bold text-[var(--color-text-primary)] hover:text-[var(--color-primary-600)] dark:hover:text-[var(--color-primary-400)] transition-colors">
      Agent管理学论坛
    </a>
    <div class="flex items-center gap-6">
      {navLinks.map(({ href, label, external }) => (
        <a
          href={href}
          {...(external ? { target: '_blank', rel: 'noopener noreferrer' } : {})}
          class:list={[
            'text-sm font-medium transition-colors',
            !external && currentPath.startsWith(href)
              ? 'text-[var(--color-primary-600)] dark:text-[var(--color-primary-400)]'
              : 'text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]',
          ]}
        >
          {label}
        </a>
      ))}
      <ThemeToggle />
    </div>
  </nav>
</header>
